SQL Data RelationShip
1:More
More: 1
1:1

Business Rules
How everybody see the data.
data model = data relationship 
エンティティ データベース設計の対象業務において、管理すべき情報のことをエンティティといいます。

RDBMS

Phisycal Model Hardware
Internal Model 
Conceptional Model

CONCAT_WS　意味
SELECT Cust_ID, CONCAT_WS(' ', First_Name, Last_name) Cust_Name, Phone
From M_Customer;
you can combine First Name and Last Name 


SQL ファイルをDLしたら、SQLQueryでexecuteする


SELECT Last_name, SUBSTRING(Last_name, 1,3)
From M_Customer;
SUBSTRING
指定した部分を切り取って、返してくれる関数なのです


SELECT SYSDATETIME(), SYSDATETIMEOFFSET(), SYSUTCDATETIME(),CURRENT_TIMESTAMP,
GETDATE(),
GETUTCDATE();

SELECT FORMAT(GETDATE(), 'dd/MM/yyyy') as Date;
you can get today's date

SELECT FORMAT(GETDATE(), 'dd/MM/yyyy') as Date, 
FORMAT(getdate(),  'dd/MM/yyyy hh:mm:ss') as dateTime;
you can see time

SELECT FORMAT(GETDATE(), 'dd/MM/yyyy') as Date, 
FORMAT(getdate(),  'dd/MM/yyyy hh:mm:ss') as dateTime,
FORMAT(getdate(),  'dddd MMMM yyyy') as date,
FORMAT(getdate(),  'MMM dd yyyy') as date,
FORMAT(getdate(),  'HH:mm:ss') as twentyFourHours,
FORMAT(getdate(),  'hh:mm:ss tt') as AM＿PM;


１年後の日付を得られる
SELECT GETDATE() as CurDate, DateADD(year, 1,getdate()) as oneYearLater

SELECT DATEDIFF(day, '2019-01-11', '2019-03-11') as "Number of Date",
DATEDIFF(month, '2019-01-11', '2019-03-11') as "Number of Month";


小数点のやつ
SELECT GST_$, ROUND(GST_$, 0) "Round to whole number", ROUND(GST_$, 1)"Round to 1 Decimal Point"
FROM M_Rental;

SELECT GST_$, ROUND(GST_$, 0) "Round to whole number", ROUND(GST_$, 1,1)"Round to 1 Decimal Point"
FROM M_Rental;


Select COUNT(*) "Sydney Vehicles" From M_Vehicle
Where Branch_Code ='SYD';

””のかしょはAttibuteのなまえを追加できる

Select SUM(PETROL_$) "Total Petrol" 
From M_Rental;


AAVG, MAX, MIN, SUM

Select Branch_Code, Count(*) "Total Vehicles"
From M_Vehicle
Group BY Branch_Code;

Whereで条件式ね
Select Rego_no, Cust_id,Rego_no, Insurance_$
From M_Rental
Where Insurance_$ = 0;

Not = NULL
Select Rego_no, Cust_id,Rego_no, Insurance_$
From M_Rental
Where Insurance_$ IS NULL;


Select *
From M_Type
Where Not Make = 'Toyota';

Select *
From M_Type
--Where Not Make = 'Toyota';
--Where Make != 'Toyota';
Where Make<> 'Toyota';


Select Rental_no, Cust_id, Rego_no, Start_Date, Returned
From M_Rental
Where Returned IS NOT NULL
Order By Rego_no;

Select *
From M_Customer
Order By  Suburb ASC, Cust_id DESC;


CONCAT_WSで文字を文字を連結できる
Select CONCAT_WS(' ', First_Name, Last_name) "Name", 
CONCAT_WS(' ', Street_no, Street_name, Post_code) "Address"
From M_Customer;

William Askew	120 Smith St 3015
Wayne Aspinall	2/12 Wilsons Lane 3053
Shayne O Connor	1876A Victoria St 7000
Wendy Bugner	45 Sturt St 3220
Samantha Steele	187 Dendy St 3045
Vanessa Davenport	6 Thompson St 3126
Gustavo Kuerten	1872 Penllyne Crt 3177
Keith Pennington	123 Lukin St 2640
Wendy Saker	354 Cherry Lane 3185
Lawrence Chang	5/73 Grange rd 3076
Linda Evangellista	18 Dandenong Rd 2045
Sam Geros	1120 Railway St 3015
Mary Knott	73 Hallam Rd 3213
Felix Mantilla	3/220 Wilson Crt 7000
Wendy Walters	118 Dandenong Rd 3058
Sam Newman	1120 Dendy St 3045
Mary Smith	73 Sanders St 3213
Sarah Winters	3/220 Smithers St 7000
Gavin Mountford	120 Victoria St 3015
Fumberger Hans	2/12 Smythes Rd 3053
Zheng Liu	1876A Church St 7000
Simon Liao	45 Grange Crt 3220
Vincent Leung	187 Bay St 3045
Ngoc Le Quang	645 Canterbury Rd 3126
Felix Renzella	182 Glenhuntly Rd 3177
Jane Rennick	123 Winter St 2640
Julie Peluso	35 Nepean Hwy 3185
Chris Perera	134 Glenhuntly rd 3076


Select Vehicle_Type, ForMat(Effective_date, 'dd/MM/yyyy') "Effective date", daily_rate, GST
From M_Fees
Where Vehicle_type Like 'T%' OR Vehicle_type Like 'F%';
